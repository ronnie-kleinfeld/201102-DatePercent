<?xml version="1.0" encoding="utf-8"?>
<s:BorderContainer xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark" xmlns:mx="library://ns.adobe.com/flex/mx"
				   width="100%" height="100%" minWidth="20" minHeight="20"
				   backgroundColor="0x000000" backgroundAlpha="0.77" borderVisible="false" cornerRadius="10">
	<s:layout>
		<s:BasicLayout/>
	</s:layout>
	<fx:Metadata>
		[Event(name=CLOSE, type="flash.events.Event")]
	</fx:Metadata>
	<fx:Script>
		<![CDATA[
			import Handler.LocHandler;
			
			import UI.Button.ButtonEvent;
			import UI.Button.ClickButton;
			import UI.Label.HeaderLabel;
			
			import Utils.AS3.Embeded;
			import Handler.LocGeneratedCode;
			
			protected static const CLOSE:String = "CLOSE";
			
			private var m_buttonClose:ClickButton;
			private var m_labelTitle:HeaderLabel;
			
			public function get CloseButton():ClickButton
			{
				return m_buttonClose;
			}
			
			public function Dispose():void
			{
				if (m_labelTitle != null)
				{
					this.removeElement(m_labelTitle);
					m_labelTitle = null;
				}
				
				if (m_buttonClose != null)
				{
					this.removeElement(m_buttonClose);
					m_buttonClose.removeEventListener(ButtonEvent.CLICKED, buttonClose_CLICKED);
					m_buttonClose.Dispose();
					m_buttonClose = null;
				}
			}
			
			// close button
			public function ShowCloseButton():void
			{
				if (m_buttonClose == null)
				{
					m_buttonClose = new ClickButton();
					m_buttonClose.right = 10
					m_buttonClose.top = 10;
					m_buttonClose.m_strTooltip = LocHandler.GS(LocGeneratedCode.Close);
					m_buttonClose.m_png = Embeded.s_imgClose;
					m_buttonClose.addEventListener(ButtonEvent.CLICKED, buttonClose_CLICKED, false, 0, true);
					
					this.addElement(m_buttonClose);
				}
			}
			protected function buttonClose_CLICKED(event:ButtonEvent):void
			{
				dispatchEvent(new Event(CLOSE));
			}
			
			// title
			public function ShowTitle(p_strTitle:String):void
			{
				if (m_labelTitle == null)
				{
					m_labelTitle = new HeaderLabel();
					m_labelTitle.percentWidth = 100;
					m_labelTitle.left = 10;
					m_labelTitle.right = 34;
					m_labelTitle.top = 12;
					
					this.addElement(m_labelTitle);
				}
				
				m_labelTitle.text = p_strTitle;
			}
		]]>
	</fx:Script>
</s:BorderContainer>